---
import Action from "@/components/Action.astro"
import { actions } from "astro:actions"

const session = Astro.locals.session
---

<section>
	<div>
		<img src="/default_miku.png" alt="AI" />
	</div>
	<aside>
		<h3>Welcomen {session?.email ?? ""}!</h3>
		<label>Your tokens: {session?.tokens ?? 0}</label>
		<form method="POST" action={actions.logout}>
			<Action as="button" type="submit">Logout</Action>
		</form>
	</aside>
</section>

<style>
	section {
		display: grid;
		grid-template-areas: "image aside";
		gap: 1rem;
		place-items: center;
	}

	div {
		grid-area: image;
		display: flex;
		aspect-ratio: 1 / 1;
		width: 300px;
		height: 300px;
	}

	img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: 50%;
		border: 1px solid var(--color-text);
	}

	aside {
		grid-area: aside;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		text-align: center;
		gap: 1rem;
	}

	@media (width < 1110px) {
		section {
			grid-template-areas: "image" "aside";
		}
	}
</style>
